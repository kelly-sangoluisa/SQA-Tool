import React from 'react';\nimport styles from './FormDrawer.module.css';\n\ninterface FormDrawerBaseProps {\n  isVisible: boolean;\n  title: string;\n  subtitle: string;\n  onClose: () => void;\n  loading?: boolean;\n  children: React.ReactNode;\n}\n\ninterface FormFieldProps {\n  label: string;\n  id: string;\n  value: string;\n  onChange: (value: string) => void;\n  error?: string;\n  placeholder?: string;\n  required?: boolean;\n  disabled?: boolean;\n  maxLength?: number;\n  type?: 'input' | 'textarea';\n  rows?: number;\n}\n\ninterface FormActionsProps {\n  onCancel: () => void;\n  onSave: () => void;\n  saveText?: string;\n  loading?: boolean;\n  disabled?: boolean;\n}\n\n/**\n * Componente base para todos los formularios de parameterización\n * Sigue el design system establecido\n */\nexport function FormDrawerBase({ isVisible, title, subtitle, onClose, loading, children }: FormDrawerBaseProps) {\n  return (\n    <div className={`${styles.overlay} ${isVisible ? styles.visible : ''}`}>\n      <div className={`${styles.drawer} ${isVisible ? styles.open : ''}`}>\n        <div className={styles.header}>\n          <div className={styles.titleSection}>\n            <h2 className={styles.title}>{title}</h2>\n            <p className={styles.subtitle}>{subtitle}</p>\n          </div>\n          \n          <button\n            type=\"button\"\n            onClick={onClose}\n            className={styles.closeButton}\n            aria-label=\"Cerrar formulario\"\n          >\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n              <path\n                d=\"M15 5L5 15M5 5L15 15\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </button>\n        </div>\n        \n        <div className={`${styles.form} ${loading ? styles.loading : ''}`}>\n          <div className={styles.content}>\n            {children}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Campo de formulario estandarizado\n */\nexport function FormField({ \n  label, \n  id, \n  value, \n  onChange, \n  error, \n  placeholder, \n  required, \n  disabled, \n  maxLength = 500,\n  type = 'input',\n  rows = 4\n}: FormFieldProps) {\n  const showCharCount = maxLength && maxLength <= 1000;\n  const isNearLimit = showCharCount && value.length > maxLength * 0.8;\n  const isOverLimit = showCharCount && value.length > maxLength * 0.95;\n\n  return (\n    <div className={styles.field}>\n      <label \n        htmlFor={id} \n        className={`${styles.label} ${required ? styles.required : ''}`}\n      >\n        {label}\n      </label>\n      \n      {type === 'input' ? (\n        <input\n          type=\"text\"\n          id={id}\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className={`${styles.input} ${error ? styles.error : ''}`}\n          placeholder={placeholder}\n          disabled={disabled}\n          maxLength={maxLength}\n        />\n      ) : (\n        <textarea\n          id={id}\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className={`${styles.textarea} ${error ? styles.error : ''}`}\n          placeholder={placeholder}\n          disabled={disabled}\n          maxLength={maxLength}\n          rows={rows}\n        />\n      )}\n      \n      {error && (\n        <div className={styles.errorMessage}>\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\">\n            <circle cx=\"7\" cy=\"7\" r=\"6\" stroke=\"currentColor\" strokeWidth=\"1.5\"/>\n            <path d=\"M7 3V7\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/>\n            <circle cx=\"7\" cy=\"10\" r=\"0.5\" fill=\"currentColor\"/>\n          </svg>\n          {error}\n        </div>\n      )}\n      \n      {showCharCount && (\n        <div className={`\n          ${styles.characterCount} \n          ${isNearLimit ? styles.warning : ''} \n          ${isOverLimit ? styles.error : ''}\n        `}>\n          {value.length}/{maxLength}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Sección de formulario con título\n */\nexport function FormSection({ title, children }: { title: string; children: React.ReactNode }) {\n  return (\n    <div className={styles.section}>\n      <h3 className={styles.sectionTitle}>{title}</h3>\n      {children}\n    </div>\n  );\n}\n\n/**\n * Mensaje de error general\n */\nexport function FormError({ message }: { message: string }) {\n  return (\n    <div className={styles.errorMessage}>\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n        <path\n          d=\"M8 1L15 15H1L8 1Z\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1.5\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        />\n        <path\n          d=\"M8 6V8.5\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1.5\"\n          strokeLinecap=\"round\"\n        />\n        <circle cx=\"8\" cy=\"11.5\" r=\"0.5\" fill=\"currentColor\" />\n      </svg>\n      {message}\n    </div>\n  );\n}\n\n/**\n * Botones de acción del formulario\n */\nexport function FormActions({ onCancel, onSave, saveText = 'Guardar', loading, disabled }: FormActionsProps) {\n  return (\n    <div className={styles.footer}>\n      <button\n        type=\"button\"\n        onClick={onCancel}\n        className={styles.cancelButton}\n        disabled={loading}\n      >\n        Cancelar\n      </button>\n      \n      <button\n        type=\"submit\"\n        onClick={onSave}\n        className={styles.saveButton}\n        disabled={loading || disabled}\n      >\n        {loading ? (\n          <>\n            <div className={styles.loadingSpinner}></div>\n            Guardando...\n          </>\n        ) : (\n          <>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <path\n                d=\"M13.5 4L6 11.5L2.5 8\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n            {saveText}\n          </>\n        )}\n      </button>\n    </div>\n  );\n}\n